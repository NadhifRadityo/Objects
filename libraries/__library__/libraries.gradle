class GLOBAL {
	protected static final List<String> loadedLibraries = new ArrayList<String>()
}

def library = { String libraryName ->
	GLOBAL.loadedLibraries.add(libraryName)
	File libDirectory = new File("../$libraryName")
	File libMainSourcesDirectory = new File(libDirectory, 'mainSources')
	File libMainResourcesDirectory = new File(libDirectory, 'mainResources')
	File libTestSourcesDirectory = new File(libDirectory, 'testSources')
	File libTestResourcesDirectory = new File(libDirectory, 'testResources')
	sourceSets {
		main.kotlin { srcDir libMainSourcesDirectory }
		main.resources { srcDir libMainResourcesDirectory }
		test.kotlin { srcDir libTestSourcesDirectory }
		test.resources { srcDir libTestResourcesDirectory }
	}
}
def loaded_libraries = { ->
	return Collections.unmodifiableList(GLOBAL.loadedLibraries)
}

ext {
	ext_libraries_library = library
	ext_libraries_loaded_libraries = loaded_libraries
}

library('GameLibrary - LWJGL')
library('GameLibrary - Jogamp')
